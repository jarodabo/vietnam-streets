<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnam Streets Embed Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            background: #1a1a1a;
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            opacity: 0.8;
            font-size: 1.1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .generator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .panel-header {
            background: #f8f8f8;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .panel-header h2 {
            font-size: 1.25rem;
            color: #1a1a1a;
        }

        .panel-content {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.95rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #1a1a1a;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .radio-option:hover {
            background: #f8f8f8;
        }

        .radio-option.active {
            background: #1a1a1a;
            color: white;
            border-color: #1a1a1a;
        }

        .radio-option input[type="radio"] {
            width: auto;
            margin: 0;
        }

        .code-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            white-space: pre-wrap;
            overflow-x: auto;
            min-height: 200px;
            margin-bottom: 1rem;
        }

        .btn {
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            margin-right: 0.5rem;
        }

        .btn:hover {
            background: #333;
        }

        .btn-secondary {
            background: #666;
        }

        .preview-panel {
            grid-column: 1 / -1;
        }

        .preview-content {
            border: 2px dashed #ddd;
            padding: 2rem;
            background: #f8f8f8;
            border-radius: 8px;
            min-height: 300px;
        }

        .embed-type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .embed-type-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .embed-type-card:hover {
            border-color: #1a1a1a;
            transform: translateY(-2px);
        }

        .embed-type-card.active {
            border-color: #1a1a1a;
            background: #1a1a1a;
            color: white;
        }

        .embed-type-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .embed-type-card p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .embed-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .alert {
            background: #d1ecf1;
            color: #0c5460;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            border: 1px solid #bee5eb;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }

        @media (max-width: 768px) {
            .generator-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 1rem;
            }

            .embed-type-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üáªüá≥ Vietnam Streets Embed Generator</h1>
        <p>Create custom embed codes for your website in seconds</p>
    </header>

    <div class="container">
        <div class="alert">
            <strong>Easy Integration:</strong> Generate embed codes for Vietnamese cultural content that you can drop into any website. All embeds are responsive and load quickly.
        </div>

        <!-- Embed Type Selection -->
        <div class="embed-type-selector">
            <div class="embed-type-card active" data-type="story">
                <div class="embed-icon">üìñ</div>
                <h3>Story Embed</h3>
                <p>Showcase a single Vietnamese cultural story</p>
            </div>

            <div class="embed-type-card" data-type="stories-grid">
                <div class="embed-icon">üìö</div>
                <h3>Stories Grid</h3>
                <p>Display multiple stories in a grid layout</p>
            </div>

            <div class="embed-type-card" data-type="photographer">
                <div class="embed-icon">üì∏</div>
                <h3>Photographer Showcase</h3>
                <p>Highlight Vietnamese photographers</p>
            </div>

            <div class="embed-type-card" data-type="events">
                <div class="embed-icon">üé™</div>
                <h3>Events Calendar</h3>
                <p>Show upcoming cultural events</p>
            </div>
        </div>

        <div class="generator-grid">
            <!-- Configuration Panel -->
            <div class="panel">
                <div class="panel-header">
                    <h2>‚öôÔ∏è Configuration</h2>
                </div>
                <div class="panel-content">
                    <div id="configForm">
                        <!-- Dynamic configuration options will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Code Output Panel -->
            <div class="panel">
                <div class="panel-header">
                    <h2>üíª Generated Code</h2>
                </div>
                <div class="panel-content">
                    <div class="code-output" id="codeOutput">
<!-- Add this script tag to your HTML head -->
&lt;script src="https://vietnamstreets.com/embeds/vietnam-streets-embed.js"&gt;&lt;/script&gt;

<!-- Add this div where you want the embed to appear -->
&lt;div data-vietnam-streets-embed="story"&gt;&lt;/div&gt;</div>

                    <button class="btn" onclick="copyCode()">üìã Copy Code</button>
                    <button class="btn btn-secondary" onclick="downloadCode()">üíæ Download HTML</button>
                </div>
            </div>

            <!-- Live Preview Panel -->
            <div class="panel preview-panel">
                <div class="panel-header">
                    <h2>üëÄ Live Preview</h2>
                </div>
                <div class="panel-content">
                    <div class="preview-content" id="livePreview">
                        <!-- Live preview will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Installation Instructions -->
        <div class="panel" style="margin-top: 2rem;">
            <div class="panel-header">
                <h2>üìã Installation Instructions</h2>
            </div>
            <div class="panel-content">
                <h3>Step 1: Add the Script</h3>
                <p>Add the Vietnam Streets embed script to your website's HTML head section:</p>
                <div class="code-output">&lt;script src="https://vietnamstreets.com/embeds/vietnam-streets-embed.js"&gt;&lt;/script&gt;</div>

                <h3>Step 2: Add the Embed</h3>
                <p>Place the generated embed code anywhere in your HTML where you want the widget to appear.</p>

                <h3>Step 3: Customize (Optional)</h3>
                <p>Override the default styles with your own CSS to match your website's design:</p>
                <div class="code-output">/* Customize embed colors */
.vs-embed-header {
    background: #your-brand-color !important;
}

/* Customize fonts */
.vs-embed {
    font-family: your-font-family !important;
}</div>
            </div>
        </div>
    </div>

    <!-- Load the embed script for preview -->
    <script src="vietnam-streets-embed.js"></script>

    <script>
        let currentEmbedType = 'story';
        let config = {};

        // Configuration templates for each embed type
        const configTemplates = {
            story: `
                <div class="form-group">
                    <label for="storyWidth">Width</label>
                    <select id="storyWidth" onchange="updateConfig()">
                        <option value="100%">100% (Full Width)</option>
                        <option value="600px">600px (Fixed)</option>
                        <option value="400px">400px (Small)</option>
                        <option value="300px">300px (Compact)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="storyId">Story Selection</label>
                    <select id="storyId" onchange="updateConfig()">
                        <option value="latest">Latest Story</option>
                        <option value="story-1">The Art of T·∫øt Preparation</option>
                        <option value="story-2">Between Two Worlds</option>
                        <option value="featured">Featured Story</option>
                        <option value="random">Random Story</option>
                    </select>
                </div>
            `,

            'stories-grid': `
                <div class="form-group">
                    <label for="gridWidth">Width</label>
                    <select id="gridWidth" onchange="updateConfig()">
                        <option value="100%">100% (Full Width)</option>
                        <option value="800px">800px (Fixed)</option>
                        <option value="600px">600px (Medium)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="gridColumns">Columns</label>
                    <div class="radio-group">
                        <div class="radio-option active" onclick="selectRadio(this, 'gridColumns', '2')">
                            <input type="radio" name="gridColumns" value="2" checked>
                            <span>2 Columns</span>
                        </div>
                        <div class="radio-option" onclick="selectRadio(this, 'gridColumns', '3')">
                            <input type="radio" name="gridColumns" value="3">
                            <span>3 Columns</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="gridLimit">Number of Stories</label>
                    <select id="gridLimit" onchange="updateConfig()">
                        <option value="3">3 Stories</option>
                        <option value="4">4 Stories</option>
                        <option value="6">6 Stories</option>
                        <option value="9">9 Stories</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="gridCategory">Category Filter</label>
                    <select id="gridCategory" onchange="updateConfig()">
                        <option value="">All Categories</option>
                        <option value="heritage">Heritage</option>
                        <option value="community">Community</option>
                        <option value="diaspora">Diaspora</option>
                        <option value="crafts">Traditional Crafts</option>
                        <option value="food">Food Culture</option>
                    </select>
                </div>
            `,

            photographer: `
                <div class="form-group">
                    <label for="photoWidth">Width</label>
                    <select id="photoWidth" onchange="updateConfig()">
                        <option value="100%">100% (Full Width)</option>
                        <option value="500px">500px (Fixed)</option>
                        <option value="400px">400px (Compact)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="photoLimit">Number of Photographers</label>
                    <select id="photoLimit" onchange="updateConfig()">
                        <option value="3">3 Photographers</option>
                        <option value="5">5 Photographers</option>
                        <option value="10">10 Photographers</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="photoCategory">Focus</label>
                    <select id="photoCategory" onchange="updateConfig()">
                        <option value="">All Photographers</option>
                        <option value="vietnam">Based in Vietnam</option>
                        <option value="diaspora">Diaspora Photographers</option>
                        <option value="emerging">Emerging Artists</option>
                        <option value="established">Established Artists</option>
                    </select>
                </div>
            `,

            events: `
                <div class="form-group">
                    <label for="eventWidth">Width</label>
                    <select id="eventWidth" onchange="updateConfig()">
                        <option value="100%">100% (Full Width)</option>
                        <option value="600px">600px (Fixed)</option>
                        <option value="400px">400px (Compact)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="eventLimit">Number of Events</label>
                    <select id="eventLimit" onchange="updateConfig()">
                        <option value="3">3 Events</option>
                        <option value="5">5 Events</option>
                        <option value="10">10 Events</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="eventType">Event Type</label>
                    <select id="eventType" onchange="updateConfig()">
                        <option value="">All Event Types</option>
                        <option value="workshop">Workshops</option>
                        <option value="exhibition">Exhibitions</option>
                        <option value="festival">Festivals</option>
                        <option value="talk">Talks & Panels</option>
                    </select>
                </div>
            `
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateConfigForm();
            updateConfig();

            // Setup embed type selection
            document.querySelectorAll('.embed-type-card').forEach(card => {
                card.addEventListener('click', function() {
                    selectEmbedType(this.dataset.type);
                });
            });
        });

        function selectEmbedType(type) {
            currentEmbedType = type;

            // Update UI
            document.querySelectorAll('.embed-type-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-type="${type}"]`).classList.add('active');

            // Update configuration form
            updateConfigForm();
            updateConfig();
        }

        function updateConfigForm() {
            document.getElementById('configForm').innerHTML = configTemplates[currentEmbedType];
        }

        function selectRadio(element, name, value) {
            // Update radio selection UI
            element.parentElement.querySelectorAll('.radio-option').forEach(opt => {
                opt.classList.remove('active');
            });
            element.classList.add('active');

            // Update actual radio input
            element.querySelector('input').checked = true;

            updateConfig();
        }

        function updateConfig() {
            // Collect configuration based on current embed type
            config = { type: currentEmbedType };

            switch (currentEmbedType) {
                case 'story':
                    config.width = document.getElementById('storyWidth')?.value || '100%';
                    config.storyId = document.getElementById('storyId')?.value || 'latest';
                    break;

                case 'stories-grid':
                    config.width = document.getElementById('gridWidth')?.value || '100%';
                    config.columns = document.querySelector('input[name="gridColumns"]:checked')?.value || '2';
                    config.limit = document.getElementById('gridLimit')?.value || '3';
                    config.category = document.getElementById('gridCategory')?.value || '';
                    break;

                case 'photographer':
                    config.width = document.getElementById('photoWidth')?.value || '100%';
                    config.limit = document.getElementById('photoLimit')?.value || '3';
                    config.category = document.getElementById('photoCategory')?.value || '';
                    break;

                case 'events':
                    config.width = document.getElementById('eventWidth')?.value || '100%';
                    config.limit = document.getElementById('eventLimit')?.value || '3';
                    config.type = document.getElementById('eventType')?.value || '';
                    break;
            }

            generateCode();
            updatePreview();
        }

        function generateCode() {
            let embedCode = `<div data-vietnam-streets-embed="${config.type}"`;

            if (config.width) embedCode += `\n     data-width="${config.width}"`;
            if (config.storyId && config.storyId !== 'latest') embedCode += `\n     data-story-id="${config.storyId}"`;
            if (config.columns) embedCode += `\n     data-columns="${config.columns}"`;
            if (config.limit) embedCode += `\n     data-limit="${config.limit}"`;
            if (config.category) embedCode += `\n     data-category="${config.category}"`;

            embedCode += `></div>`;

            const fullCode = `<!-- Add this script tag to your HTML head -->
<script src="https://vietnamstreets.com/embeds/vietnam-streets-embed.js"></script>

<!-- Add this div where you want the embed to appear -->
${embedCode}`;

            document.getElementById('codeOutput').textContent = fullCode;
        }

        function updatePreview() {
            const preview = document.getElementById('livePreview');
            preview.innerHTML = '';

            // Create preview embed
            const embedDiv = document.createElement('div');
            embedDiv.setAttribute('data-vietnam-streets-embed', config.type);
            if (config.width) embedDiv.setAttribute('data-width', config.width);
            if (config.storyId) embedDiv.setAttribute('data-story-id', config.storyId);
            if (config.columns) embedDiv.setAttribute('data-columns', config.columns);
            if (config.limit) embedDiv.setAttribute('data-limit', config.limit);
            if (config.category) embedDiv.setAttribute('data-category', config.category);

            preview.appendChild(embedDiv);

            // Process the new embed
            if (window.VietnamStreets) {
                window.VietnamStreets.processEmbeds();
            }
        }

        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(function() {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '‚úÖ Copied!';
                btn.style.background = '#4CAF50';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#1a1a1a';
                }, 2000);
            });
        }

        function downloadCode() {
            const code = document.getElementById('codeOutput').textContent;
            const fullHTML = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnam Streets Embed</title>
    <script src="https://vietnamstreets.com/embeds/vietnam-streets-embed.js"></script>
</head>
<body>
    <h1>My Vietnam Streets Embed</h1>

    ${code.split('\n').slice(3).join('\n')}
</body>
</html>`;

            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);

            const a = document.createElement('a');
            a.href = url;
            a.download = 'vietnam-streets-embed.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>